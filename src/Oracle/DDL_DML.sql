--------------------------------------------------------
--  File created - poniedzia³ek-stycznia-25-2016   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table WALUTY
--------------------------------------------------------

  CREATE TABLE "S12678"."WALUTY" 
   (	"SYMBOL" CHAR(10 BYTE), 
	"WALUTA" CHAR(10 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table OBLIGACJE
--------------------------------------------------------

  CREATE TABLE "S12678"."OBLIGACJE" 
   (	"SYMBOL" CHAR(10 BYTE), 
	"OBLIGACJE" CHAR(10 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table AKCJA
--------------------------------------------------------

  CREATE TABLE "S12678"."AKCJA" 
   (	"SYMBOL" CHAR(10 BYTE), 
	"AKCJA" CHAR(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table SUROWIEC
--------------------------------------------------------

  CREATE TABLE "S12678"."SUROWIEC" 
   (	"SYMBOL" CHAR(10 BYTE), 
	"SUROWIEC" CHAR(10 BYTE)
   ) SEGMENT CREATION DEFERRED 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table PAPIERWARTOSCIOWY
--------------------------------------------------------

  CREATE TABLE "S12678"."PAPIERWARTOSCIOWY" 
   (	"SYMBOL" CHAR(10 BYTE), 
	"AKTUALNAWARTOSC" NUMBER(10,2), 
	"ILOSCWYDANYCHWALOROW" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table WYMIANA
--------------------------------------------------------

  CREATE TABLE "S12678"."WYMIANA" 
   (	"IDSPRZEDAWCY" NUMBER(*,0), 
	"IDKUPUJACEGO" NUMBER(*,0), 
	"CENA" NUMBER(10,2), 
	"ILOSC" NUMBER(*,0), 
	"DATA" DATE, 
	"SYMBOL" CHAR(10 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table WLASCICIEL
--------------------------------------------------------

  CREATE TABLE "S12678"."WLASCICIEL" 
   (	"IMIE" CHAR(10 BYTE), 
	"NAZWISKO" CHAR(10 BYTE), 
	"IDWLASCICIELA" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Table POSIADACZE
--------------------------------------------------------

  CREATE TABLE "S12678"."POSIADACZE" 
   (	"IDWLASCICIELA" NUMBER(*,0), 
	"SYMBOL" CHAR(10 BYTE), 
	"ILOSCKUPIONYCHWALOROW" NUMBER(*,0)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;

REM INSERTING into S12678.WALUTY
SET DEFINE OFF;
REM INSERTING into S12678.OBLIGACJE
SET DEFINE OFF;
REM INSERTING into S12678.AKCJA
SET DEFINE OFF;
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('ALR       ','ALIOR     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('ACP       ','ASSECOPOL ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('LWB       ','BOGDANKA  ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('BZW       ','BZWBK     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('CPS       ','CYFRPLSAT ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('ENA       ','ENEA      ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('ENG       ','ENERGA    ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('EUR       ','EUROCASH  ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('KGH       ','KGHM      ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('LPP       ','LPP       ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('MBK       ','MBANK     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('OPL       ','ORANGEPL  ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PEO       ','PEKAO     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PGE       ','PGE       ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PGN       ','PGNIG     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PKN       ','PKNORLEN  ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PZU       ','PZU       ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('PKO       ','PKOBP     ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('SNS       ','SYNTHOS   ');
Insert into S12678.AKCJA (SYMBOL,AKCJA) values ('TPE       ','TAURONPE  ');
REM INSERTING into S12678.SUROWIEC
SET DEFINE OFF;
REM INSERTING into S12678.PAPIERWARTOSCIOWY
SET DEFINE OFF;
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('ALR       ','3,3','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('ACP       ','155,64','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('LWB       ','152,77','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('BZW       ','23,85','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('CPS       ','5','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('ENA       ','234,85','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('ENG       ','99,98','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('EUR       ','0,25','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('KGH       ','68,95','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('LPP       ','113,33','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('MBK       ','5,3','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('OPL       ','64,22','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PEO       ','12,22','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PGE       ','16,76','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PGN       ','240,44','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PKN       ','1,99','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PKO       ','26,66','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('PZU       ','370,32','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('SNS       ','23,22','100000');
Insert into S12678.PAPIERWARTOSCIOWY (SYMBOL,AKTUALNAWARTOSC,ILOSCWYDANYCHWALOROW) values ('TPE       ','61,22','100000');
REM INSERTING into S12678.WYMIANA
SET DEFINE OFF;
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('2','0','4432','12',to_date('15/06/22','RR/MM/DD'),'PZU       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','2','4432','12',to_date('15/06/22','RR/MM/DD'),'PZU       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','2','4432','12',to_date('15/06/22','RR/MM/DD'),'KGH       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('2','1','540','7',to_date('15/06/22','RR/MM/DD'),'PGE       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','2','12','4',to_date('15/06/22','RR/MM/DD'),'LPP       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','440','72',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','52','49',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','52','11',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','52','11',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','52','11',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','52','11',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','5277','113',to_date('15/06/22','RR/MM/DD'),'MBK       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','1','10000','20',to_date('15/06/14','RR/MM/DD'),'ACP       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('1','0','4000','10',to_date('15/06/13','RR/MM/DD'),'ACP       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('1','0','4000','10',to_date('15/06/12','RR/MM/DD'),'ACP       ');
Insert into S12678.WYMIANA (IDSPRZEDAWCY,IDKUPUJACEGO,CENA,ILOSC,DATA,SYMBOL) values ('0','2','4432','13',to_date('15/06/22','RR/MM/DD'),'MBK       ');
REM INSERTING into S12678.WLASCICIEL
SET DEFINE OFF;
Insert into S12678.WLASCICIEL (IMIE,NAZWISKO,IDWLASCICIELA) values ('TOMASZ    ','WITKOWSKI ','0');
Insert into S12678.WLASCICIEL (IMIE,NAZWISKO,IDWLASCICIELA) values ('BILL      ','GATES     ','1');
Insert into S12678.WLASCICIEL (IMIE,NAZWISKO,IDWLASCICIELA) values ('RYSZARD   ','KRAUSE    ','2');
REM INSERTING into S12678.POSIADACZE
SET DEFINE OFF;
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('1','ACP       ','50000');
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('0','ACP       ','25000');
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('2','ACP       ','25000');
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('2','ALR       ','90000');
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('2','MBK       ','92000');
Insert into S12678.POSIADACZE (IDWLASCICIELA,SYMBOL,ILOSCKUPIONYCHWALOROW) values ('2','PKO       ','51000');

--------------------------------------------------------
--  DDL for Index WALUTY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."WALUTY_PK" ON "S12678"."WALUTY" ("SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Index POSIADACZE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."POSIADACZE_PK" ON "S12678"."POSIADACZE" ("IDWLASCICIELA", "SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;

--------------------------------------------------------
--  DDL for Index AKCJA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."AKCJA_PK" ON "S12678"."AKCJA" ("SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Index SUROWIEC_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."SUROWIEC_PK" ON "S12678"."SUROWIEC" ("SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;

--------------------------------------------------------
--  DDL for Index PAPIERWARTOSCIOWY_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."PAPIERWARTOSCIOWY_PK" ON "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;
--------------------------------------------------------
--  DDL for Index WYMIANA_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."WYMIANA_PK" ON "S12678"."WYMIANA" ("DATA", "SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI" ;

--------------------------------------------------------
--  DDL for Index OBLIGACJE_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "S12678"."OBLIGACJE_PK" ON "S12678"."OBLIGACJE" ("SYMBOL") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI" ;

--------------------------------------------------------
--  Constraints for Table WLASCICIEL
--------------------------------------------------------

  ALTER TABLE "S12678"."WLASCICIEL" MODIFY ("IMIE" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WLASCICIEL" MODIFY ("NAZWISKO" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WLASCICIEL" MODIFY ("IDWLASCICIELA" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WLASCICIEL" ADD CONSTRAINT "WLASCICIEL_PK" PRIMARY KEY ("IDWLASCICIELA")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI"  ENABLE;
--------------------------------------------------------
--  Constraints for Table OBLIGACJE
--------------------------------------------------------

  ALTER TABLE "S12678"."OBLIGACJE" ADD CONSTRAINT "OBLIGACJE_PK" PRIMARY KEY ("SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI"  ENABLE;
 
  ALTER TABLE "S12678"."OBLIGACJE" MODIFY ("SYMBOL" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table AKCJA
--------------------------------------------------------

  ALTER TABLE "S12678"."AKCJA" ADD CONSTRAINT "AKCJA_PK" PRIMARY KEY ("SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI"  ENABLE;
 
  ALTER TABLE "S12678"."AKCJA" MODIFY ("SYMBOL" NOT NULL ENABLE);

--------------------------------------------------------
--  Constraints for Table SUROWIEC
--------------------------------------------------------

  ALTER TABLE "S12678"."SUROWIEC" ADD CONSTRAINT "SUROWIEC_PK" PRIMARY KEY ("SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI"  ENABLE;
 
  ALTER TABLE "S12678"."SUROWIEC" MODIFY ("SYMBOL" NOT NULL ENABLE);
  
--------------------------------------------------------
--  Constraints for Table WYMIANA
--------------------------------------------------------

  ALTER TABLE "S12678"."WYMIANA" MODIFY ("IDSPRZEDAWCY" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" MODIFY ("IDKUPUJACEGO" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" MODIFY ("CENA" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" MODIFY ("ILOSC" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" MODIFY ("DATA" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" MODIFY ("SYMBOL" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WYMIANA" ADD CONSTRAINT "WYMIANA_PK" PRIMARY KEY ("DATA", "SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI"  ENABLE;

--------------------------------------------------------
--  Constraints for Table WALUTY
--------------------------------------------------------

  ALTER TABLE "S12678"."WALUTY" MODIFY ("SYMBOL" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."WALUTY" ADD CONSTRAINT "WALUTY_PK" PRIMARY KEY ("SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS NOCOMPRESS LOGGING
  TABLESPACE "STUDENCI"  ENABLE;

--------------------------------------------------------
--  Constraints for Table PAPIERWARTOSCIOWY
--------------------------------------------------------

  ALTER TABLE "S12678"."PAPIERWARTOSCIOWY" ADD CONSTRAINT "PAPIERWARTOSCIOWY_PK" PRIMARY KEY ("SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI"  ENABLE;
 
  ALTER TABLE "S12678"."PAPIERWARTOSCIOWY" MODIFY ("SYMBOL" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."PAPIERWARTOSCIOWY" MODIFY ("AKTUALNAWARTOSC" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."PAPIERWARTOSCIOWY" MODIFY ("ILOSCWYDANYCHWALOROW" NOT NULL ENABLE);

--------------------------------------------------------
--  Constraints for Table POSIADACZE
--------------------------------------------------------

  ALTER TABLE "S12678"."POSIADACZE" ADD CONSTRAINT "POSIADACZE_PK" PRIMARY KEY ("IDWLASCICIELA", "SYMBOL")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "STUDENCI"  ENABLE;
 
  ALTER TABLE "S12678"."POSIADACZE" MODIFY ("IDWLASCICIELA" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."POSIADACZE" MODIFY ("SYMBOL" NOT NULL ENABLE);
 
  ALTER TABLE "S12678"."POSIADACZE" MODIFY ("ILOSCKUPIONYCHWALOROW" NOT NULL ENABLE);
  
--------------------------------------------------------
--  Ref Constraints for Table AKCJA
--------------------------------------------------------

  ALTER TABLE "S12678"."AKCJA" ADD CONSTRAINT "PAPIERWARTOSCIOWY_AKCJA_FK1" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table OBLIGACJE
--------------------------------------------------------

  ALTER TABLE "S12678"."OBLIGACJE" ADD CONSTRAINT "PW_OBLIGACJE" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;

--------------------------------------------------------
--  Ref Constraints for Table POSIADACZE
--------------------------------------------------------

  ALTER TABLE "S12678"."POSIADACZE" ADD CONSTRAINT "PW_POSIADACZE_FK1" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;
 
  ALTER TABLE "S12678"."POSIADACZE" ADD CONSTRAINT "WLASCICIEL_POSIADACZE_FK1" FOREIGN KEY ("IDWLASCICIELA")
	  REFERENCES "S12678"."WLASCICIEL" ("IDWLASCICIELA") ENABLE;

--------------------------------------------------------
--  Ref Constraints for Table SUROWIEC
--------------------------------------------------------

  ALTER TABLE "S12678"."SUROWIEC" ADD CONSTRAINT "PAPIERWARTOSCIOWY_SUROWIEC_FK1" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;

--------------------------------------------------------
--  Ref Constraints for Table WALUTY
--------------------------------------------------------

  ALTER TABLE "S12678"."WALUTY" ADD CONSTRAINT "PAPIERWARTOSCIOWY_WALUTY_FK1" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table WYMIANA
--------------------------------------------------------

  ALTER TABLE "S12678"."WYMIANA" ADD CONSTRAINT "PAPIERWARTOSCIOWY_WYMIANA_FK1" FOREIGN KEY ("SYMBOL")
	  REFERENCES "S12678"."PAPIERWARTOSCIOWY" ("SYMBOL") ENABLE;
 
  ALTER TABLE "S12678"."WYMIANA" ADD CONSTRAINT "WLASCICIEL_WYMIANA_FK1" FOREIGN KEY ("IDSPRZEDAWCY")
	  REFERENCES "S12678"."WLASCICIEL" ("IDWLASCICIELA") ENABLE;
 
  ALTER TABLE "S12678"."WYMIANA" ADD CONSTRAINT "WLASCICIEL_WYMIANA_FK2" FOREIGN KEY ("IDKUPUJACEGO")
	  REFERENCES "S12678"."WLASCICIEL" ("IDWLASCICIELA") ENABLE;

--------------------------------------------------------
--  DDL for Trigger NONEG
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "S12678"."NONEG" 
BEFORE INSERT
ON PapierWartosciowy
for each row
BEGIN
IF :new.AktualnaWartosc <= 0 or :new.IloscWydanychWalorow<=0 THEN
 dbms_output.put_line('Wartosc ujemna');
 END IF;
END;
/
ALTER TRIGGER "S12678"."NONEG" ENABLE;

--------------------------------------------------------
--  DDL for Procedure SHOWTODAYTRANSACTIONS
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "S12678"."SHOWTODAYTRANSACTIONS" 
AS
CURSOR OBROTY IS
  Select Wymiana.symbol, AktualnaWartosc, sum(Wymiana.Ilosc) as Obrotow
  from Wymiana, papierwartosciowy
  where Data = SYSDATE and
  PapierWartosciowy.Symbol = Wymiana.Symbol
  group by Wymiana.Symbol, Papierwartosciowy.aktualnawartosc
  order by Obrotow desc;
  v_obrotow OBROTY%rowtype;
BEGIN
  OPEN OBROTY;
  LOOP
    FETCH OBROTY INTO V_obrotow;
    dbms_output.put_line(v_obrotow.symbol || ' ' || v_obrotow.Obrotow || ' ' || v_obrotow.AktualnaWartosc);
    EXIT WHEN Obroty%NotFound;
  END LOOP;
END;

/
--------------------------------------------------------
--  DDL for Procedure SHOWUDZIALOWCY
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "S12678"."SHOWUDZIALOWCY" (SYMBOL VARCHAR2, MinUdzial int)  
AS
CURSOR udzialowiec IS
  Select Imie, Nazwisko, PapierWartosciowy.Symbol, (iloscKupionychWalorow/iloscWydanychwalorow*100) as Udzial
  from Wlasciciel, Posiadacze, PapierWartosciowy
  WHERE Posiadacze.Symbol = SYMBOL and
      Posiadacze.Symbol = PapierWartosciowy.Symbol and
      Posiadacze.idWlasciciela = Wlasciciel.idWlasciciela and
      Udzial > minUdzial;
v_wlasciciel udzialowiec%rowtype;
BEGIN
  dbms_output.put_line('Udzialowcy ' || SYMBOL || ' o minimalnym udziale ' || MinUdzial);
  OPEN UDZIALOWIEC;
  LOOP
    FETCH UDZIALOWIEC INTO v_wlasciciel;
    dbms_output.put_line(SYMBOL || ':' ||v_wlasciciel.Udzial || '% posiada:' || v_wlasciciel.imie || ' ' || v_wlasciciel.nazwisko);
    EXIT WHEN UDZIALOWIEC%NotFound;
  END LOOP;
END;

/
